{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./front-end/controllers/CatalogueController.js","webpack:///./front-end/controllers/PhoneController.js","webpack:///./front-end/app.js","webpack:///./front-end/services/CartService.js","webpack:///./front-end/services/CatalogueService.js","webpack:///./front-end/services/PhoneService.js","webpack:///./front-end/controllers/CartController.js","webpack:///./front-end/controllers/SearchSortController.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","CatalogueController","[object Object]","$scope","CatalogueService","PhoneService","AddScope","getPhones","then","phones","$apply","catch","error","console","log","PhoneController","$routeParams","CartService","id","phoneID","this","addPhoneToCart","phone","addPhone","getSinglePhone","thumbnail","images","setThumbnail","_setThumbnail","photo","appName","appController","appServices","angular","service","$cookies","cart","cookies","JSON","parse","Array","isArray","Exception","some","length","amount","push","_getSimplePhone","put","stringify","index","splice","$http","url","data","ex","controller","getCart","RemoveItem","removePhoneByIndex","sortSelectedItem","search","$watch","text","Lowertext","toString","toLocaleLowerCase","resultPhones","filter","toLowerCase","indexOf","ApplyPhones","sortSelectedChange","sort","left","right","age","directive","templateUrl","app","config","$routeProvider","$locationProvider","html5Mode","when","run"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/public/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\"use strict\";\n\nexport default class CatalogueController{\n\n    constructor($scope, CatalogueService, PhoneService){\n\n        CatalogueService.AddScope($scope);\n\n        PhoneService.getPhones(`./phones/phones.json`)\n            .then(phones => {\n\n                $scope.phones = phones;\n                $scope.$apply();\n\n            })\n            .catch( error => {\n                console.log(\"EXCEPTION: \" , error)\n            })\n\n\n    }//constructor\n\n}//CatalogueController","\"use strict\";\n\nexport  default class PhoneController{\n\n    constructor($scope, $routeParams, CartService, PhoneService){\n\n        let id = $routeParams.phoneID;\n\n        this.$scope = $scope;\n\n        this.$scope.addPhoneToCart = phone => { CartService.addPhone(phone) };\n\n        PhoneService.getSinglePhone(`./phones/${id}.json`)\n            .then(phone => {\n                    $scope.phone = phone;\n                    $scope.thumbnail = phone.images[0];\n                    $scope.$apply();\n                }\n            )\n            .catch( error => {\n                console.log('error' , error);\n            });\n\n        this.$scope.setThumbnail = this._setThumbnail.bind(this);\n\n    }\n\n    _setThumbnail(photo){\n\n        this.$scope.thumbnail = photo;\n\n    }//_setThumbnail\n\n}","\"use strict\";\n\nimport CatalogueController from './controllers/CatalogueController';\nimport PhoneController from './controllers/PhoneController';\nimport CartController from './controllers/CartController';\nimport SearchSortController from './controllers/SearchSortController';\n\nimport PhoneService from './services/PhoneService';\nimport CartService from './services/CartService';\nimport CatalogueService from './services/CatalogueService';\n\nconst appName = 'PhoneApplication';\nconst appController = `${appName}.controllers`;\nconst appServices = `${appName}.services`;\n\nangular.module(appController, []);\nangular.module(appServices, []);\n\nangular.module(appServices).service('CartService', ['$cookies' , CartService]);\nangular.module(appServices).service('CatalogueService', CatalogueService);\nangular.module(appServices).service('PhoneService', ['$http' , PhoneService]);\n\nangular.module(appController).controller('CartController',  ['$scope', 'CartService', CartController]);\nangular.module(appController).controller('SearchSortController',  ['$scope', 'CatalogueService', 'PhoneService', SearchSortController]);\n\nangular.module(appController).directive('shoppingCart', () => { return { templateUrl : '../front-end/templates/shopping-cart.html' } });\nangular.module(appController).directive('searthSort', () => { return { templateUrl : '../front-end/templates/search-sort.html' } });\n\nconst app = angular.module(appName, [\n    'ngRoute',\n    'ngCookies',\n    appController,\n    appServices\n]);\n\napp.config( [ '$routeProvider' , '$locationProvider'  , ($routeProvider , $locationProvider)=>{\n\n    $locationProvider.html5Mode(true);\n\n    $routeProvider.when('/' , {\n\n        templateUrl: '../front-end/templates/catalogue.html',\n        controller: [ '$scope', 'CatalogueService', 'PhoneService', CatalogueController]\n\n    });\n\n    $routeProvider.when('/single-phone/:phoneID' , {\n\n        templateUrl: '../front-end/templates/single-phone.html',\n        controller: [ '$scope', '$routeParams', 'CartService', 'PhoneService', PhoneController]\n\n    });\n\n\n} ] );\n\napp.run();","\"use strict\";\n\nexport default class CartService{\n\n    constructor($cookies){\n\n       this.cart = [];\n\n       this.$cookies = $cookies;\n\n       try {\n\n           let cookies = JSON.parse(this.$cookies.get('cart'));\n\n           if(cookies && Array.isArray(cookies)){\n\n               this.cart = cookies;\n\n           }//if\n\n       }//try\n       catch (Exception) {\n\n           console.log('Exception: ', Exception);\n\n       }//catch\n\n    }//constructor\n\n    getCart(){\n        return this.cart;\n    }//getCart\n\n    addPhone(phone){\n\n        let exists = this.cart.some( p => {\n            return p.id === phone.id;\n        });\n\n        if(!exists){\n            this.cart.push( this._getSimplePhone( phone ) );\n        }//if\n        else{\n\n            for (let i = 0; i < this.cart.length; i++){\n\n                let p = this.cart[i];\n\n                if(p.id === phone.id){\n\n                    p.amount++;\n\n                    break;\n\n                }//if\n\n            }//for i\n\n        }//else\n\n        this.$cookies.put('cart', JSON.stringify(this.cart));\n\n    }//addPhone\n\n    _getSimplePhone(phone){\n\n        return {\n            'id' : phone.id,\n            'amount' : 1,\n            'name' : phone.name,\n        };\n\n    }//_getSimplePhone\n\n    removePhoneByIndex(index){\n\n        this.cart.splice(index, 1);\n\n        this.$cookies.put('cart', JSON.stringify(this.cart));\n\n    }//removePhone\n\n}//CartService\n","\"use strict\";\r\n\r\nexport default class CatalogueService {\r\n\r\n    constructor(){\r\n\r\n        this.phones = [];\r\n\r\n    }//constructor\r\n\r\n    AddScope($scope){\r\n\r\n        this.$scope = $scope;\r\n\r\n    }//AddScope\r\n\r\n    ApplyPhones(phones){\r\n\r\n        if(this.$scope){\r\n\r\n            this.$scope.phones = phones;\r\n            this.$scope.$apply();\r\n\r\n        }//if\r\n\r\n    }//GetPhones\r\n\r\n}//CatalogueService","\"use strict\";\n\nexport default class PhoneService{\n\n    constructor($http){\n\n        this.$http = $http;\n\n    }//constructor\n\n    async getPhones(url){\n\n        try{\n\n            let result = await this.$http.get( url );\n\n            return result.data;\n\n        }//try\n        catch(ex){\n\n            console.log(\"Exception: getPhones\" , ex);\n            return [];\n\n        }//catch\n\n    }//getPhones\n\n    async getSinglePhone(url){\n\n        try{\n\n            let result = await this.$http.get(url);\n            return result.data;\n\n        }//try\n        catch(ex){\n\n            console.log(\"Exception: getPhones\" , ex);\n            return null;\n\n        }//catch\n\n    }//getSinglePhone\n\n}//PhoneService\n","\"use strict\";\n\nexport default class CartController{\n\n    constructor($scope, CartService){\n\n        $scope.cart = CartService.getCart();\n\n        $scope.RemoveItem = CartService.removePhoneByIndex.bind(CartService);\n\n    }//constructor\n\n}//CartController","\"use strict\";\r\n\r\nexport default class SearchSortController {\r\n\r\n    constructor($scope, CatalogueService, PhoneService){\r\n\r\n        $scope.sortSelectedItem = 'age';\r\n\r\n        $scope.search = '';\r\n\r\n        $scope.$watch('search', (text) => {\r\n\r\n            if(text){\r\n\r\n                PhoneService.getPhones(`./phones/phones.json`)\r\n                    .then(phones => {\r\n\r\n                        let Lowertext = text.toString().toLocaleLowerCase();\r\n\r\n                        let resultPhones = phones.filter( ( phone )=>{\r\n\r\n                            return phone.name.toLowerCase().indexOf( Lowertext ) !== -1;\r\n\r\n                        } );\r\n\r\n                        CatalogueService.ApplyPhones(resultPhones);\r\n\r\n                    })\r\n                    .catch( error => {\r\n                        console.log(\"EXCEPTION: \" , error)\r\n                    })\r\n\r\n            }//if\r\n\r\n        });\r\n\r\n        $scope.sortSelectedChange = () => {\r\n\r\n            $scope.search = '';\r\n\r\n            PhoneService.getPhones(`./phones/phones.json`)\r\n                .then(phones => {\r\n\r\n                    let resultPhones = phones;\r\n\r\n                    if($scope.sortSelectedItem === 'name'){\r\n\r\n                        resultPhones = phones.sort( ( left , right )=>{\r\n\r\n                            if( left.name > right.name ){\r\n                                return 1;\r\n                            }//if\r\n                            else if( left.name === right.name ){\r\n                                return 0;\r\n                            }//else if\r\n\r\n                            return -1;\r\n\r\n                        } );\r\n\r\n                    }//if\r\n                    else if($scope.sortSelectedItem === 'age'){\r\n\r\n                        resultPhones = phones.sort( ( left , right )=>{\r\n\r\n                            if( +left.age > +right.age ){\r\n                                return 1;\r\n                            }//if\r\n                            else if( +left.age === +right.age ){\r\n                                return 0;\r\n                            }//else if\r\n\r\n                            return -1;\r\n\r\n                        } );\r\n\r\n                    }//else if\r\n\r\n                    CatalogueService.ApplyPhones(resultPhones);\r\n\r\n                })\r\n                .catch( error => {\r\n                    console.log(\"EXCEPTION: \" , error)\r\n                })\r\n\r\n        };\r\n\r\n    }//constructore\r\n\r\n}//SearchSortController"],"sourceRoot":""}